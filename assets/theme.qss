/* Theme QSS using token interpolation from theme.py */

QWidget { font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; }
QMainWindow { background: {{color_bg}}; }
/* Remove splitter handle visuals entirely */
QSplitter::handle { background: transparent; }
QSplitter::handle:horizontal { width: 0px; }
QToolBar { background: {{color_bg}}; border-bottom: 1px solid {{color_border}}; spacing: 6px; }
QToolButton { color: {{color_text}}; border-radius: {{radius_sm}}; padding: 6px 8px; }
QToolButton:hover { background: rgba(255,255,255,0.04); }
QLabel#title { color: {{color_text}}; font-size: 18px; font-weight: 600; }
QLabel#badge { color: {{color_text_muted}}; font-size: 12px; padding: 2px 8px; border: 1px solid {{color_border}}; border-radius: {{radius_lg}}; }
/* Sidebar */
QScrollArea#sidebarScroll { background: {{color_surface}}; border-right: 1px solid {{color_border}}; }
QScrollArea#sidebarScroll > QWidget > QWidget { background: transparent; }
/* Remove any hint of inner frame or focus ring inside sidebar */
QScrollArea#sidebarScroll, QScrollArea#sidebarScroll QWidget { outline: 0; border: none; }
QWidget#sidebar { background: transparent; }
QLabel#sidebarTitle { color: {{color_text}}; font-weight: 600; }
QLabel:disabled { color: {{color_text_muted}}; }
QLabel#sectionLabel { color: {{color_text_muted}}; font-size: 11px; letter-spacing: 0.12em; }

/* Sidebar card */
QFrame#sidebarCard { background: rgba(255,255,255,0.02); border: 1px solid {{color_border}}; border-radius: {{radius_md}}; margin-top: 8px; }
QFrame#sidebarCard:hover { border-color: rgba(255,255,255,0.12); }
QComboBox, QLineEdit, QTextEdit, QPlainTextEdit { background: #0d1117; color: {{color_text}}; border: 1px solid {{color_border}}; border-radius: {{radius_md}}; padding: 6px 8px; }
QCheckBox { color: {{color_text}}; padding: 4px 2px; }
QCheckBox:disabled { color: {{color_text_muted}}; }
/* Restore a proper drop-down segment that respects rounded right corners */
/* Robust combo styling to prevent right-edge clipping */
QComboBox { padding-right: 30px; }
QComboBox:disabled { 
  background: rgba(255,255,255,0.02); 
  color: {{color_text_muted}}; 
  border-color: rgba(255,255,255,0.05);
}
QComboBox::drop-down {
  width: 28px;
  border: none;
  background: transparent;
  subcontrol-origin: padding;
  subcontrol-position: top right;
}
QComboBox::down-arrow { image: none; }
QComboBox QAbstractItemView { background: #0b1020; color: {{color_text}}; border: 1px solid {{color_border}}; outline: none; padding: 0px; }
QComboBox QAbstractItemView::item { padding: 8px 10px; margin: 0px; }
QComboBox QAbstractItemView::item:selected { background: rgba(59,130,246,0.22); }
QComboBox QAbstractItemView, QComboBox QAbstractItemView::viewport { background: #0b1020; }
QComboBox QAbstractScrollArea { background: #0b1020; }
QComboBox QScrollBar:vertical { background: #0b1020; width: 8px; margin: 0; }
QComboBox QScrollBar::handle:vertical { background: rgba(255,255,255,0.12); border-radius: 4px; min-height: 16px; }
QCheckBox::indicator { width: 16px; height: 16px; border-radius: 4px; border: 1px solid {{color_border}}; background: #0d1117; margin-right: 8px; }
QCheckBox::indicator:checked { background: {{color_accent}}; border-color: {{color_accent}}; }
QCheckBox::indicator:disabled { background: rgba(255,255,255,0.02); border-color: rgba(255,255,255,0.05); }
QCheckBox::indicator:checked:disabled { background: rgba(59,130,246,0.3); border-color: rgba(59,130,246,0.3); }

/* Scrollbars */
QScrollBar:vertical { background: transparent; width: 10px; margin: 0; }
QScrollBar::handle:vertical { background: rgba(255,255,255,0.12); border-radius: 5px; min-height: 24px; }
QScrollBar::add-line:vertical, QScrollBar::sub-line:vertical { height: 0; }
QPushButton { background: {{color_accent}}; color: white; border: none; border-radius: {{radius_md}}; padding: 8px 12px; }
QPushButton:hover { background: #4f8df7; }
QPushButton:disabled { background: {{color_border}}; color: {{color_text_muted}}; }
QScrollArea#chatScroll { background: transparent; border: none; }
QWidget#chatCanvas { background: transparent; }
QLabel#msgHeader { color: {{color_text_muted}}; font-size: 12px; margin: 0 0 6px 0; }
QTextBrowser { background: transparent; color: {{color_text}}; border: none; }
QToolButton#copyBtn { border: 1px solid {{color_border}}; border-radius: {{radius_sm}}; padding: 2px 6px; color: {{color_text}}; }
QToolButton#copyBtn:hover { background: #0d1117; }
QPlainTextEdit#chatInput { background: #0d1117; border: 1px solid {{color_border}}; border-radius: {{radius_lg}}; color: {{color_text}}; padding: 10px 12px; }
QPlainTextEdit#chatInput:focus { border-color: {{color_accent}}; }

/* Chat bubbles */
QFrame#chatBubble { border: 1px solid {{color_border}}; border-radius: {{radius_lg}}; background: {{color_surface}}; }
/* Let bubbles expand to available width from layout */
/* Centered layout margins are controlled by stretches in code */
QFrame#chatBubble[user="true"] { background: rgba(59,130,246,0.1); border-color: #355c9a; }
QLabel[meta="true"] { color: {{color_text_muted}}; font-size: 11px; }

/* Toasts */
QFrame.toast { background: rgba(17,24,39,0.95); border: 1px solid {{color_border}}; border-radius: {{radius_md}}; color: {{color_text}}; padding: 8px 12px; }

/* Chat History */
QScrollArea#chatListScroll { background: transparent; border: none; }
QScrollArea#chatListScroll > QWidget > QWidget { background: transparent; }

QWidget#chatHistoryItem { 
    background: rgba(255,255,255,0.02); 
    border: 1px solid transparent; 
    border-radius: {{radius_sm}}; 
    margin: 2px 0;
}
QWidget#chatHistoryItem:hover { 
    background: rgba(255,255,255,0.05); 
    border-color: {{color_border}};
}

QLabel#chatHistoryTitle { 
    color: {{color_text}}; 
    font-size: 13px; 
}

QLabel#chatHistoryMeta { 
    color: {{color_text_muted}}; 
    font-size: 11px; 
}

QToolButton#chatHistoryDelete {
    background: transparent;
    border: none;
    color: {{color_text_muted}};
    padding: 2px;
}
QToolButton#chatHistoryDelete:hover {
    color: {{color_error}};
}

QToolButton#newChatBtn {
    background: transparent;
    border: 1px solid {{color_border}};
    border-radius: {{radius_sm}};
    padding: 2px;
    color: {{color_text}};
}
QToolButton#newChatBtn:hover {
    background: rgba(255,255,255,0.04);
    border-color: {{color_accent}};
}

/* Image preview container */
QFrame#imagePreviewContainer {
    background: rgba(255,255,255,0.02);
    border: 1px solid {{color_border}};
    border-radius: {{radius_md}};
    margin: 0 8px;
}

/* Image preview items */
QFrame#imagePreview {
    background: rgba(255,255,255,0.05);
    border: 1px solid {{color_border}};
    border-radius: {{radius_sm}};
}

/* Image remove button */
QPushButton#imageRemoveBtn {
    background: rgba(0,0,0,0.7);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    font-weight: bold;
}
QPushButton#imageRemoveBtn:hover {
    background: rgba(255,0,0,0.8);
}

/* Input container to match the preview style */
QFrame#inputContainer {
    background: transparent;
    border: none;
}


